syntax = "proto3";

option go_package = "github.com/openziti/zrok/agent/agentGrpc";

service Agent {
	rpc Status(StatusRequest) returns (StatusReply) {}
	rpc Version(VersionRequest) returns (VersionReply) {}
}

message AccessDetail {
	string token = 1;
	string bindAddress = 2;
	repeated string responseHeaders = 3;
}

message ShareDetail {
	string token = 1;
	string shareMode = 2;
	string backendMode = 3;
	bool reserved = 4;
	repeated string frontendEndpoint = 5;
	string backendEndpoint = 6;
	bool closed = 7;
	string status = 8;
}

message StatusRequest {
}

message StatusReply {
	repeated AccessDetail accesses = 1;
	repeated ShareDetail shares = 2;
}

message VersionRequest {
}

message VersionReply {
	string v = 1;
}
